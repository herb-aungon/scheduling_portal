{% extends "home.html" %}


{% block view_schedule %}
{{ super() }}
{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-danger">
  <a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong> <a>{{ message }}</a></strong>
</div>
{% endfor %}
{% endif %}
{% endwith %}

<div class="col-lg-12">
<h2 style="float:left;"><span class="glyphicon glyphicon-th"></span>
  Monthly View
</h2></br>



{% if monthly_schedules %}

	    <table class="table table-hover" id="monthly_sched">
	      <thead>
		<tr>
		  <th rowspan="2" class="stubhead">Name</th>
		  <th colspan="3">Monday</th>
		  <th colspan="3">Tuesday</th>
		  <th colspan="3">Wednesday</th>
		  <th colspan="3">Thursday</th>
		  <th colspan="3">Friday</th>
		  <th colspan="3">Saturday</th>
		  <th colspan="3">Sunday</th>
		</tr>
		<tr>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>		  
 		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>

		</tr>

		
	      </thead>
	      <tbody>
		{% for sched in monthly_schedules %}

		{% set day = sched.day  %}
		{% set date = sched.start_date  %}

		<tr id="{{ sched.initials }}">
		  <td>{{ sched.name}}({{ sched.initials }})</td>

		  {% if "Monday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_mon">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}

		  {% if "Tuesday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_tues">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}

		  {% if "Wednesday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_wed">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}

		  {% if "Thursday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_thurs">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}


		  {% if "Friday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_fri">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}

		  {% if "Saturday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_sat">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}

		  {% if "Sunday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td class="total_sun">{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>0</td>
		  {% endif %}


		</tr>		
		{% endfor %}
		<tr>
		  <td>Total</td>
		  <td></td>
		  <td></td>
		  <td id="g_total_mon"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_tues"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_wed"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_thurs"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_fri"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_sat"></td>
		  <td></td>
		  <td></td>
		  <td id="g_total_sun"></td>
		</tr>

	      </tbody>
	    </table>

{% endif %}

</div>
	    

{% endblock %}
