{% extends "home.html" %}


{% block view_schedule %}
   {{ super() }}

<h2><span class="glyphicon glyphicon-th"></span>
  Monthly View
</h2>

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-danger">
  <a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong> <a>{{ message }}</a></strong>
</div>
{% endfor %}
{% endif %}
{% endwith %}


{% if monthly_schedules %}

	    <table class="table table-striped" id="monthly_sched">
	      <thead>
		<tr>
		  <th rowspan="2">Name</th>
		  <th colspan="3">Monday</th>
		  <th colspan="3">Tuesday</th>
		  <th colspan="3">Wednesday</th>
		  <th colspan="3">Thursday</th>
		  <th colspan="3">Friday</th>
		  <th colspan="3">Saturday</th>
		  <th colspan="3">Sunday</th>
		</tr>
		<tr>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>		  
 		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>
		  <th>Scheduling</th>
		  <th>Assign.</th>
		  <th>Manhr</th>

		</tr>

		
	      </thead>
	      <tbody>
		{% for sched in monthly_schedules %}

		{% set day = sched.day  %}
		{% set date = sched.start_date  %}

		<tr id="{{ sched.initials }}">
		  <td>{{ sched.name}}({{ sched.initials }})</td>

		  {% if "Monday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}

		  {% if "Tuesday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}

		  {% if "Wednesday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}

		  {% if "Thursday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}


		  {% if "Friday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}

		  {% if "Saturday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}

		  {% if "Sunday" in day  %}
		  <td class="red">{{ date.year }}-{{ date.month }}-{{ date.day }} ({{ sched.from }}-{{ sched.to }}) </td>
		  <td>{{ sched.assignment }} </td>
		  <td>{{ sched.total_hours }} </td>
		  {% else  %}
		  <td bgcolor="#FFFF00" class="red">RD</td>
		  <td>N/A</td>
		  <td>N/A</td>
		  {% endif %}


		</tr>		
		{% endfor %}

	      </tbody>
	    </table>

{% endif %}


	    

{% endblock %}
